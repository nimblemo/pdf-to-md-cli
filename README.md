# pdf-to-md

Быстрый и эффективный конвертер PDF в Markdown, написанный на Rust с использованием параллельной обработки. Основанный на семантическом анализе PDF-документа. Качество может сильно варироваться, но это дешевле и быстрее чем использование OCR. В определенных случаях может быть полезно для конвертации документов в MD

## Особенности

- TODO: **Высокая производительность**: Использует все доступные ядра процессора благодаря `rayon` для параллельной обработки страниц и файлов. 
- **Кроссплатформенность**: Автоматическая загрузка и настройка необходимых библиотек PDFium для Windows, Linux и macOS.
- **Гибкость**: Поддержка обработки как отдельных файлов, так и целых директорий.
- **Умное форматирование**: Извлечение текста с сохранением логической структуры (заголовки, параграфы).

## Требования

- **Rust** (последняя стабильная версия).
- **Утилита `tar`**: Должна быть доступна в системе для распаковки библиотек при первой сборке (в Windows 10+ она встроена).

## Установка и сборка

Проект автоматически заботится о своих зависимостях (PDFium). Вам достаточно просто собрать проект:

```bash
git clone <repository-url>
cd pdf-to-md
cargo build --release
```

При первом запуске `cargo build` скрипт автоматически скачает нужную версию библиотеки (например, `pdfium.dll`) и сохранит её в каталог `lib/` в корне проекта.

## Использование

### Основные команды

**Конвертация отдельного файла:**
```bash
cargo run -- input.pdf
```

**Конвертация всех PDF в папке:**
```bash
cargo run -- ./my_pdfs/
```

**Указание выходной директории:**
```bash
cargo run -- input.pdf -o ./output_folder/
```

**Вывод результата в консоль (stdout):**
```bash
cargo run -- input.pdf --stdout
```

### Все аргументы

| Аргумент | Описание |
| :--- | :--- |
| `INPUT` | Путь к PDF файлу или директории с файлами. |
| `-o, --output <DIR>` | Директория для сохранения `.md` файлов (по умолчанию — текущая). |
| `-n, --name <NAME>` | Имя выходного файла (только для работы с одним файлом). |
| `-s, --stdout` | Выводить результат в консоль вместо записи в файлы. |
| `-v, --verbose` | Включить подробный вывод отладочной информации. |

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности в файле `LICENSE` (если применимо).
